<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<title>S4Scope – SAP RFP | IEZU Tech</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#f4f6f9;
    margin:0;
}
header{
    background:#0b5ed7;
    color:#fff;
    padding:14px 20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.container{ padding:20px; }
h2{
    background:#0b5ed7;
    color:#fff;
    padding:12px;
}
.company-block{
    position: relative;
    background:#fff;
    border:1px solid #ccc;
    padding:15px;
    margin-top:20px;
}
.company-grid{
    display:grid;
    grid-template-columns: repeat(5, 1fr);
    gap:12px;
}
label{ font-weight:bold; font-size:13px; }
input, select{
    width:100%;
    padding:6px;
}
button{
    margin-top:20px;
    padding:10px 20px;
    border:none;
    border-radius:4px;
    cursor:pointer;
}
.primary{ background:#0b5ed7; color:#fff; }
.success{ background:#198754; color:#fff; }
footer{
    margin-top:40px;
    padding:12px;
    text-align:center;
    font-size:13px;
    color:#666;
    background:#fff;
    border-top:1px solid #ccc;
}
table{
    border-collapse:collapse;
    width:100%;
}
th,td{
    border:1px solid #ccc;
    padding:8px;
    text-align:center;
}
th{
    background:#0b5ed7;
    color:#fff;
}
</style>
</head>

<body>

<header>
    <div><strong>S4Scope</strong></div>
    <div>SAP RFP Platformu | <strong>IEZU Tech</strong></div>
</header>

<div class="container">

<!-- ================== BAŞLAT ================== -->
<button id="startBtn" class="primary">RFP’ye Başla</button>

<!-- ================== BÖLÜM 0 ================== -->
<section id="section0" style="display:none;">
<h2>Bölüm 0 – Mevcut ERP ve Başlangıç Durumu</h2>

<div class="company-grid">

<div>
<label>Mevcut ERP Sistemi</label>
<select id="erpSystem">
<option value="">Seçiniz</option>
<option value="SAP">SAP</option>
<option value="NonSAP">SAP Dışı</option>
<option value="None">ERP Yok</option>
</select>
</div>

<div id="sapModelDiv" style="display:none;">
<label>SAP Modeli</label>
<select id="sapModel">
<option value="">Seçiniz</option>
<option>ECC</option>
<option>S/4HANA On-Premise</option>
<option>S/4HANA Cloud Private</option>
<option>S/4HANA Cloud Public</option>
</select>
</div>

<div id="sapVersionDiv" style="display:none;">
<label>SAP Versiyonu</label>
<input type="text" id="sapVersion" placeholder="Örn: 1909, 2021">
</div>

<div id="conversionDiv" style="display:none;">
<label>Geçiş Yaklaşımı</label><br>
<input type="radio" name="conversion" value="Greenfield"> Greenfield<br>
<input type="radio" name="conversion" value="Brownfield"> Brownfield
</div>

</div>

<button id="goSection1" class="success">Kaydet ve Devam Et</button>
</section>

<!-- ================== BÖLÜM 1 ================== -->
<section id="section1" style="display:none;">

<h2>RFP – Bölüm 1: Şirket Bazlı Genel Bilgiler</h2>

<label>Kaç şirket için RFP doldurulacak?</label>
<input type="number" id="companyCount" min="1">

<button onclick="createCompanies()" class="success">Şirketleri Oluştur</button>

<div id="companies"></div>

<button id="showStructureBtn" class="primary">Şirket Yapılanmasını Göster</button>
<div id="companyStructure" style="margin-top:20px;"></div>

</section>

</div>

<footer>© IEZU Tech | S4Scope</footer>

<script>
/* ===== BÖLÜM 0 ===== */
document.getElementById("startBtn").onclick=()=>{
    document.getElementById("section0").style.display="block";
    document.getElementById("startBtn").style.display="none";
};

document.getElementById("erpSystem").onchange=function(){
    const isSAP=this.value==="SAP";
    ["sapModelDiv","sapVersionDiv","conversionDiv"]
        .forEach(id=>document.getElementById(id).style.display=isSAP?"block":"none");
};

document.getElementById("goSection1").onclick=()=>{
    if(!document.getElementById("erpSystem").value){
        alert("ERP bilgisi zorunlu");
        return;
    }
    document.getElementById("section0").style.display="none";
    document.getElementById("section1").style.display="block";
};

/* ===== BÖLÜM 1 (ESKİ MANTIK) ===== */
const sectorMap={
"Ayrık Üretim":["Otomotiv Tedarikçileri","Kiralama & Leasing","Batarya Üreticileri"],
"Havacılık ve Savunma":["Seviye 2 ve üzeri Tedarikçiler (MRO hariç)","OEM Bağlı Ortaklıkları","Yeni Uzay Üretimi ve Gelişmiş Hava Mobilitesi"],
"Yüksek Teknoloji":["Ürün Bileşenleri","OEM"],
"Endüstriyel Üretim":["Bileşen Üreticileri","Endüstriyel ve Ticari Makine & Ekipman","Otomasyon ve Kontrol Çözümleri"],
"Tüketici Endüstrileri":["Tarım ve Gıda","Tüketici Ürünleri","Perakende","Toptan Dağıtım"],
"Enerji ve Doğal Kaynaklar":["Değirmen ve Madencilik","Yapı Malzemeleri, Metaller, Kağıt ve Ambalaj","Tekstil / Madencilik Hizmetleri / Genel Madencilik","Kimya","Petrol, Gaz ve Enerji","Kamu Hizmetleri (Utilities)"],
"Hizmet Sektörleri":["Bankacılık","İnşaat ve Gayrimenkul","Sigortacılık","Yüksek Teknoloji Yazılım","Medya","Profesyonel Hizmetler","Telekomünikasyon","Seyahat ve Ulaştırma"],
"Kamu Hizmetleri Sektörleri":["Kamu Sektörü","Eğitim ve Araştırma"]
};

const sapModules=["FI","CO","MM","SD","PP","QM","PM","WM","HR","PS"];

function createCompanies(){
const count=parseInt(companyCount.value);
if(!count||count<1){alert("Geçerli sayı gir");return;}
companies.innerHTML="";
for(let i=1;i<=count;i++){
const div=document.createElement("div");
div.className="company-block";
div.innerHTML=`
<h3>Şirket ${i}</h3>
<div class="company-grid">
<div><label>Şirket Adı</label><input></div>
<div><label>Ülke</label><input></div>
<div>
<label>Ana Sektör</label>
<select onchange="loadSub(this,${i})">
<option value="">Seçiniz</option>
${Object.keys(sectorMap).map(s=>`<option>${s}</option>`).join("")}
</select>
</div>
<div>
<label>Alt Sektör</label>
<select id="sub${i}"><option>Seçiniz</option></select>
</div>
<div>
<label>Ana Faaliyet</label>
<select>
<option>Üretim</option>
<option>Hizmet</option>
<option>Ticaret</option>
<option>Proje Bazlı</option>
<option>Karma</option>
</select>
</div>
</div>`;
companies.appendChild(div);
}
}

function loadSub(sel,i){
const sub=document.getElementById("sub"+i);
sub.innerHTML="";
sectorMap[sel.value]?.forEach(s=>{
const o=document.createElement("option");
o.textContent=s;
sub.appendChild(o);
});
}

document.getElementById("showStructureBtn").onclick=()=>{
companyStructure.innerHTML="";
const table=document.createElement("table");
table.innerHTML="<tr><th>Şirket</th>"+sapModules.map(m=>`<th>${m}</th>`).join("")+"</tr>";
[...document.querySelectorAll(".company-block")].forEach((b,i)=>{
table.innerHTML+=`<tr><td>Şirket ${i+1}</td>`+
sapModules.map(()=>"<td><input type='checkbox'></td>").join("")+
"</tr>";
});
companyStructure.appendChild(table);
};
</script>

</body>
</html>
