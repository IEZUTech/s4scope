<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<title>S4Scope – SAP RFP | IEZU Tech</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#f4f6f9;
    margin:0;
}
header{
    background:#0b5ed7;
    color:#fff;
    padding:14px 20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.container{
    padding:20px;
}
h2{
    background:#0b5ed7;
    color:#fff;
    padding:12px;
}
.company-block{
    background:#fff;
    border:1px solid #ccc;
    padding:15px;
    margin-top:20px;
    position:relative;
}
.company-grid{
    display:grid;
    grid-template-columns: repeat(5, 1fr);
    gap:12px;
}
label{
    font-size:13px;
    font-weight:bold;
}
input, select{
    width:100%;
    padding:6px;
}
button{
    margin-top:20px;
    padding:10px 20px;
    background:#198754;
    color:white;
    border:none;
    cursor:pointer;
    border-radius:4px;
}
.delete-btn{
    position:absolute;
    top:8px;
    right:8px;
    background:#dc3545;
    padding:4px 8px;
    font-size:12px;
}
table{
    width:100%;
    border-collapse:collapse;
    margin-top:20px;
}
th,td{
    border:1px solid #ccc;
    padding:8px;
    text-align:center;
}
th{
    background:#0b5ed7;
    color:#fff;
}
td:first-child{
    text-align:left;
    font-weight:bold;
}
</style>
</head>

<body>

<header>
    <div><strong>S4Scope</strong></div>
    <div>SAP RFP Platformu | <strong>IEZU Tech</strong></div>
</header>

<div class="container">

<h2>Bölüm 1 – Şirket Bazlı Genel Bilgiler</h2>

<button onclick="addCompany()">Şirket Ekle</button>
<button onclick="showStructure()" style="background:#0b5ed7;">Şirket Yapılanmasını Göster</button>

<form id="rfpForm">
<div id="companies"></div>
</form>

<div id="companyStructure"></div>

</div>

<script>
const sectorMap = {
"Ayrık Üretim": [
"Otomotiv Tedarikçileri",
"Kiralama & Leasing",
"Batarya Üreticileri"
],
"Havacılık ve Savunma": [
"Seviye 2 ve üzeri Tedarikçiler (MRO hariç)",
"OEM Bağlı Ortaklıkları",
"Yeni Uzay Üretimi ve Gelişmiş Hava Mobilitesi"
],
"Yüksek Teknoloji": [
"Ürün Bileşenleri / OEM"
],
"Endüstriyel Üretim": [
"Bileşen Üreticileri",
"Endüstriyel ve Ticari Makine & Ekipman",
"Otomasyon ve Kontrol Çözümleri"
],
"Tüketici Endüstrileri": [
"Tarım ve Gıda",
"Tüketici Ürünleri",
"Perakende",
"Toptan Dağıtım"
],
"Enerji ve Doğal Kaynaklar": [
"Değirmen ve Madencilik",
"Yapı Malzemeleri, Metaller, Kağıt ve Ambalaj",
"Tekstil / Madencilik Hizmetleri / Genel Madencilik",
"Kimya",
"Petrol, Gaz ve Enerji",
"Kamu Hizmetleri (Utilities)"
],
"Hizmet Sektörleri": [
"Bankacılık",
"İnşaat ve Gayrimenkul",
"Sigortacılık",
"Yüksek Teknoloji Yazılım",
"Medya",
"Profesyonel Hizmetler",
"Telekomünikasyon",
"Seyahat ve Ulaştırma"
],
"Kamu Hizmetleri Sektörleri": [
"Kamu Sektörü",
"Eğitim ve Araştırma"
]
};

const sapModules = ["FI","CO","MM","SD","PP","QM","PM","WM","HR","PS"];
let companyIndex = 0;

function addCompany(){
    companyIndex++;
    const div = document.createElement("div");
    div.className = "company-block";
    div.id = "company_"+companyIndex;

    div.innerHTML = `
    <button type="button" class="delete-btn" onclick="this.parentElement.remove()">Sil</button>
    <h3>Şirket ${companyIndex}</h3>
    <div class="company-grid">
        <div>
            <label>Şirket Adı</label>
            <input type="text" required>
        </div>
        <div>
            <label>Ülke</label>
            <select required>
                <option value="">Seçiniz</option>
                <option>Türkiye</option>
                <option>Almanya</option>
                <option>ABD</option>
                <option>İngiltere</option>
                <option>Diğer</option>
            </select>
        </div>
        <div>
            <label>Ana Sektör</label>
            <select onchange="loadSubSector(this)" required>
                <option value="">Seçiniz</option>
                ${Object.keys(sectorMap).map(s=>`<option>${s}</option>`).join("")}
            </select>
        </div>
        <div>
            <label>Alt Sektör</label>
            <select required>
                <option value="">Önce Ana Sektör</option>
            </select>
        </div>
        <div>
            <label>Ana Faaliyet Türü</label>
            <select required>
                <option value="">Seçiniz</option>
                <option>Üretim</option>
                <option>Montaj</option>
                <option>Ticaret</option>
                <option>Hizmet</option>
                <option>Proje Bazlı</option>
                <option>Karma</option>
            </select>
        </div>
    </div>
    `;
    document.getElementById("companies").appendChild(div);
}

function loadSubSector(mainSelect){
    const subSelect = mainSelect.parentElement.nextElementSibling.querySelector("select");
    subSelect.innerHTML = "<option value=''>Seçiniz</option>";
    sectorMap[mainSelect.value].forEach(s=>{
        const o = document.createElement("option");
        o.textContent = s;
        subSelect.appendChild(o);
    });
}

function showStructure(){
    const blocks = document.querySelectorAll(".company-block");
    if(blocks.length===0){ alert("Şirket yok"); return; }

    let html = "<table><tr><th>Şirket</th>";
    sapModules.forEach(m=>html+=`<th>${m}</th>`);
    html+="</tr>";

    blocks.forEach((b,i)=>{
        const name = b.querySelector("input").value || "Şirket "+(i+1);
        html+=`<tr><td>${name}</td>`;
        sapModules.forEach(()=>html+="<td><input type='checkbox'></td>");
        html+="</tr>";
    });
    html+="</table>";
    document.getElementById("companyStructure").innerHTML = html;
}
</script>

</body>
</html>
